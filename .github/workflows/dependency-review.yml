name: "Dependency Review"
on: [pull_request]

permissions:
  contents: read

jobs:
  dependency-review:
    runs-on: ubuntu-latest
    steps:
      - name: "Checkout Repository"
        uses: actions/checkout@v4
      - name: Save dependency review log
        run: |
          unset GITHUB_STEP_SUMMARY
          npx --yes @github/dependency-review-action > dependency-review.txt

      - name: Upload report
        uses: actions/upload-artifact@v4
        with:
          name: dependency-review
          path: dependency-review.txt
